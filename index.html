<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.2" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.2" />






<meta property="og:type" content="website">
<meta property="og:title" content="mshen">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="mshen">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mshen">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>mshen</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">mshen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/26/自动打包/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mshen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/26/自动打包/" itemprop="url">自动打包</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-03-26T16:02:20+08:00">
                2018-03-26
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="一：接入流程："><a href="#一：接入流程：" class="headerlink" title="一：接入流程："></a>一：接入流程：</h2><h3 id="1-修改工程名"><a href="#1-修改工程名" class="headerlink" title="1.修改工程名"></a>1.修改工程名</h3><p>将xxx替换成自己的工程名<br>project_name=xxx  <br><br>scheme名 将xxx替换成自己的sheme名<br>scheme_name=xxx</p>
<h3 id="2-配置文件"><a href="#2-配置文件" class="headerlink" title="2.配置文件"></a>2.配置文件</h3><p>在下面的路径下（或者自己换个路径也可）换成自己项目的配置文件</p>
<pre><code>#plist文件所在路径
exportOptionsPlistPath=${HOME}/&quot;Desktop/ieltsBuild/exportTest.plist&quot;
</code></pre><p>这个配置文件其实在我们手动打包的目录下是有的，我们copy到shell脚本里写的目录下就可以了。</p>
<h3 id="3-通知测试"><a href="#3-通知测试" class="headerlink" title="3.通知测试"></a>3.通知测试</h3><p><a href="">https://oapi.dingtalk.com/robot/send?a…</a>需要改成为自己创建的机器人url.  <br><br>“atMobiles”:[“185xxxxxxxx”] 里的手机号改成需要通知的人的手机号</p>
<h2 id="二：执行脚本"><a href="#二：执行脚本" class="headerlink" title="二：执行脚本"></a>二：执行脚本</h2><p>脚本放到工程目录下，<br>cd 到工程目录下，执行sh autoBuild.sh.</p>
<h2 id="三：脚本"><a href="#三：脚本" class="headerlink" title="三：脚本"></a>三：脚本</h2><pre><code>
#使用方法


#工程绝对路径
project_path=$(cd `dirname $0`; pwd)

#echo $project_path
#工程名 将XXX替换成自己的工程名
project_name=xxx

#scheme名 将XXX替换成自己的sheme名
scheme_name=xxx

#打包模式 Debug/Release
development_mode=Debug

#build文件夹路径
build_path=${HOME}/"Desktop/ieltsBuild/build"
#${project_path}/build

#plist文件所在路径
exportOptionsPlistPath=${HOME}/"Desktop/ieltsBuild/exportTest.plist"
#${project_path}/exportTest.plist
#导出.ipa文件所在路径
exportIpaPath=${HOME}/"Desktop/ieltsBuild/${development_mode}"
#${project_path}/ipaDir/${development_mode}



#注释掉，默认是开发模式
#echo "Place enter the number you want to export ? [ 1:app-store 2:ad-hoc] "

##
#read number
#while([[ $number != 1 ]] && [[ $number != 2 ]])
#do
#echo "Error! Should enter 1 or 2"
#echo "Place enter the number you want to export ? [ 1:app-store 2:ad-hoc] "
#read number
#done

#if [ $number == 1 ];then
#development_mode=Release
#exportOptionsPlistPath=${project_path}/exportAppstore.plist
#else
#development_mode=Debug
#exportOptionsPlistPath=${project_path}/exportTest.plist
#fi


echo '///-----------'
echo '/// 正在清理工程'
echo '///-----------'
xcodebuild \
clean -configuration ${development_mode} -quiet  || exit


echo '///--------'
echo '/// 清理完成'
echo '///--------'
echo ''

echo '///-----------'
echo '/// 正在编译工程:'${development_mode}
echo '///-----------'
xcodebuild \
archive -workspace ${project_path}/${project_name}.xcworkspace \
-scheme ${scheme_name} \
-configuration ${development_mode} \
-archivePath ${build_path}/${project_name}.xcarchive  -quiet  || exit

echo '///--------'
echo '/// 编译完成'
echo '///--------'
echo ''

echo '///----------'
echo '/// 开始ipa打包'
echo '///----------'

xcodebuild -exportArchive -archivePath ${build_path}/${project_name}.xcarchive \
-configuration ${development_mode} \
-exportPath ${exportIpaPath} \
-exportOptionsPlist ${exportOptionsPlistPath}
#-quiet || exit

if [ -e $exportIpaPath/$scheme_name.ipa ]; then
echo '///----------'
echo '/// ipa包已导出'
echo '///----------'
#open $exportIpaPath
else
echo '///-------------'
echo '/// ipa包导出失败 '
echo '///-------------'
fi
echo '///------------'
echo '/// 打包ipa完成  '
echo '///-----------='
echo ''

echo '///-------------'
echo '/// 开始发布ipa包 '
echo '///-------------'

#if [ $number == 1 ];then
#
##验证并上传到App Store
## 将-u 后面的XXX替换成自己的AppleID的账号，-p后面的XXX替换成自己的密码
#altoolPath="/Applications/Xcode.app/Contents/Applications/Application Loader.app/Contents/Frameworks/ITunesSoftwareService.framework/Versions/A/Support/altool"
#"$altoolPath" --validate-app -f ${exportIpaPath}/${scheme_name}.ipa -u XXX -p XXX -t ios --output-format xml
#"$altoolPath" --upload-app -f ${exportIpaPath}/${scheme_name}.ipa -u  XXX -p XXX -t ios --output-format xml
#else

echo '///-------------'
echo '/// 传到蒲公英 '
echo '///-------------'

# 将XXX替换成自己的Fir平台的token
#自动上传到蒲公英
curl -F "file=@$exportIpaPath/$scheme_name.ipa" \
-F "uKey=xxxx" \
-F "_api_key=xxxx" \
https://www.pgyer.com/apiv1/app/upload

echo '///-------------'
echo '/// 通过钉钉机器人通知测试 '
echo '///-------------'

//其实就是一个post请求
curl -X POST -H 'Content-type':'application/json' -d '{"msgtype":"text","text":{"content":"新包打好啦 哒哒哒 "},"at":{"atMobiles":["185xxxxx"],"isAtAll":false}}' https://oapi.dingtalk.com/robot/send?xxxxxx
echo '///-------------'
echo '/// 完成 '
echo '///-------------'


#fi  #Shell脚本没有{}括号，所以用fi表示if语句块的结束

exit 0



</code></pre>

<p>参考文档：</p>
<p>1.iOS- 一键自动打包发布到Fir和AppStore: <a href="">https://www.jianshu.com/p/05dc9f925467</a><br>2.钉钉自定义机器人文档：<br><a href="">https://open-doc.dingtalk.com/docs/doc.htm?spm=a219a.7629140.0.0.karFPe&amp;treeId=257&amp;articleId=105735&amp;docType=1</a><br>3.蒲公英快速上传文档:<a href="">https://www.pgyer.com/doc/view/upload_one_command</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/28/python思考/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mshen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/28/python思考/" itemprop="url">python思考</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-28T23:12:36+08:00">
                2017-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>廖雪峰学习python的官网上有这样一段话：</p>
<p>#前言<br>“<br>和list比较，dict有以下几个特点：</p>
<p>查找和插入的速度极快，不会随着key的增加而变慢；<br>需要占用大量的内存，内存浪费多。<br>而list相反：</p>
<p>查找和插入的时间随着元素的增加而增加；<br>占用空间小，浪费内存很少。<br>所以，dict是用空间来换取时间的一种方法。</p>
<p>dict可以用在需要高速查找的很多地方，在Python代码中几乎无处不在，正确使用dict非常重要，需要牢记的第一条就是dict的key必须是不可变对象。<br>”<br>上面说字典要占用大量的内存，我就去查了一下python中字典的实现方式：</p>
<p><a href="http://liuzhijun.iteye.com/blog/2266358" target="_blank" rel="external">http://liuzhijun.iteye.com/blog/2266358</a></p>
<p>发现讲python字典实现的一篇好文章</p>
<p><a href="https://harveyqing.gitbooks.io/python-read-and-write/content/" target="_blank" rel="external">python见闻志</a></p>
<p>总结一下，<br>dict{key:value}<br>key通过hash函数，得到一个数（十进制），跟存储数组的长度 - 1 进行&amp;操作，得到slot索引。<br>如：hash(‘a’) = 398026104856367068<br>如果数组的大小是8<br>hash(‘a’) &amp; 7 = 0;</p>
<p><img src="/Users/mshen/Desktop/python/hash.png" alt="hash.png"></p>
<p>图片引用自：<a href="https://harveyqing.gitbooks.io/python-read-and-write/content/" target="_blank" rel="external">https://harveyqing.gitbooks.io/python-read-and-write/content/</a></p>
<p>如果索引重复，就是用开放寻址法来查找空闲的slot，所以会形成一个探测链，当探测链中某个元素被删除时，不能直接删除，否则探测链就断了，就不能根据探测链来查找删除元素后面的元素了。 删除时通多dummy状态来标志。有三种状态，unused,active,dummy </p>
<p><strong>Q:像这种探测链确定位置的元素怎么查找到呢？</strong></p>
<p>先根据hash值来查找，找到一个元素，比较key值，不一样，然后根据探测链往下查找，直到比较key值是一样的，就找到了。</p>
<p>如果使用了的slots和dummy slots的总量超过了数组大小的2/3则重新调整字典的大小，然后slot索引会重新计算一遍。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/28/isEqual和hash/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mshen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/28/isEqual和hash/" itemprop="url">isEqual和hash</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-28T18:08:07+08:00">
                2017-09-28
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>记录一下今天下午对这两个方法的学习。</p>
<h2 id="基础类中的实现"><a href="#基础类中的实现" class="headerlink" title="基础类中的实现"></a>基础类中的实现</h2><p>在基类中的实现中，相等性检查本质上就是对本体性的检查，两个NSObject如果指向了同一个内存地址，那它们就被认为是相同的。  </p>
<pre><code>- (BOOL)isEqual:(id)object {
      return self == object;
} 
</code></pre><p>Person的父类是NSObject,创建Person类</p>
<pre><code>- (NSUInteger)hash {
        return [super hash];
}

Person *person = [[Person alloc] init];
NSLog(@&quot;person = %ld&quot;, (NSUInteger)person);
NSLog(@&quot;[person1 getSuperHash] = %ld&quot;, [person     getSuperHash]);
</code></pre><p>打印结果如下：  </p>
<pre><code>person = 140643147498880
[person1 getSuperHash] = 140643147498880
</code></pre><p>可以看出 NSObject 的hash返回的就是该对象的内存地址。<br>自定义类中重写这两个方法的示例可以参考链接：<br><a href="http://www.jianshu.com/p/915356e280fc" target="_blank" rel="external">iOS开发 之 不要告诉我你真的懂isEqual与hash!</a></p>
<h2 id="相等性判断"><a href="#相等性判断" class="headerlink" title="相等性判断"></a>相等性判断</h2><p>在 Foundation 框架中，下面这些 NSObject 的子类都有自己的相等性检查实现，分别使用下面这些方法：</p>
<pre><code>NSAttributedString -isEqualToAttributedString:

NSData -isEqualToData:

NSDate -isEqualToDate:

NSDictionary -isEqualToDictionary:

NSHashTable -isEqualToHashTable:

NSIndexSet -isEqualToIndexSet:

NSNumber -isEqualToNumber:

NSOrderedSet -isEqualToOrderedSet:

NSSet -isEqualToSet:

NSString -isEqualToString:

NSTimeZone -isEqualToTimeZone:

NSValue -isEqualToValue:
</code></pre><p>对上面这些类来说，当需要对它们的两个实例进行比较时，推荐使用这些高层方法而不是直接使用 isEqual:。</p>
<h2 id="hash的概念"><a href="#hash的概念" class="headerlink" title="hash的概念"></a>hash的概念</h2><p>hash table（也叫散列表）的设计就是为了加快查找速度。<br>它通过把关键码值映射到表中一个位置来访问记录，以加快查找的速度。<br>详细介绍：<br><a href="http://blog.csdn.net/duan19920101/article/details/51579136" target="_blank" rel="external">哈希表（散列表）原理详解</a><br>NSHipster建议重写hash的时候，使用<br>关键属性的散列值进行一个简单的 XOR操作，可以满足99%的需求了。<br><a href="http://nshipster.cn/equality/" target="_blank" rel="external">Equality</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/30/重构-改善既有代码的设计/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mshen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/30/重构-改善既有代码的设计/" itemprop="url">重构-改善既有代码的设计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-30T18:50:21+08:00">
                2017-08-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>文章是对书：&lt;重构 改善既有代码的设计&gt;的整理。</p>
<h3 id="重构的好处"><a href="#重构的好处" class="headerlink" title="重构的好处"></a>重构的好处</h3><p>重构之后软件功能和之前一样，不同的是性能优化了，执行速度快了或者代码易于理解等。<br>1.重构改进软件设计<br>2.重构使使软件容易理解<br>3.重构帮助找到bug<br>4.重构提高编程速度</p>
<h3 id="何时重构"><a href="#何时重构" class="headerlink" title="何时重构"></a>何时重构</h3><p>就是下面要写的代码的坏味道，这只是一些经验，具体什么时候要重构，要看一个见识广博者的直觉了。</p>
<h3 id="代码的坏味道"><a href="#代码的坏味道" class="headerlink" title="代码的坏味道"></a>代码的坏味道</h3><p>1.重复代码</p>
<p><strong>解决：</strong> 重复代码可以提取出一个方法,放到要被调用的类中，或者提炼出一个独立类中。<br><strong>example:</strong><br>//判断字符串是否为空 </p>
<pre><code>(BOOL)stringIsNull:(NSString *)checkString
{
if ((NSNull *)aCheckString == [NSNull null] ||
aCheckString.length == 0 ||
[aCheckString isEqualToString:@&quot;&quot;] ||
[aCheckString isEqualToString:@&quot;&lt;null&gt;&quot;])
return YES;
else
return NO;
}
</code></pre><p>2.过长的方法</p>
<p>拥有短函数的对象会获得比较好、比较长。“间接层”所能带来的全部利益-解释能力、共享能力、选择能力都是由小型函数支持的。<br>文中说，我们可以遵循这样一个原则：每当感觉需要注释来说明点什么的时候，我们就把需要说明的东西写进一个独立函数中，并<strong>以其用途（而非实现方法）</strong>命名<br>（<em>我觉得可以考虑一下，并不绝对</em>）<br><strong>解决：</strong> 分解成若干短函数</p>
<p>3.过大的类</p>
<p>类内如果有太多代码，也是代码重复、混乱并最终走向死亡的源头。<br><strong>解决：</strong>可以试着提炼方法，提炼工具类，把数据和UI分开。</p>
<p>4.过长的参数列</p>
<p><strong>解决：</strong>太长的参数列会变得难以理解，可以封装成一个对象。</p>
<p>5.Divergent Change(发散式变化)</p>
<p>标题的意思是：某个类经常因为不同的原因在不同的方向上发生变化。<br>针对某一外界变化的所有相应修改，都只应该发生在单一类中，而这个类中的所有内容都应该反应此变化。<br><strong>解决：</strong>可以找出某特定原因造成的所有变化，把他们提炼到另一个类中。</p>
<p>6.Shotgun Surgery(霰弹式修改)</p>
<p>标题的意思是：每遇到某种变化，你都必须在许多不同的类中做出许多小修改。<br><strong>解决：</strong> 把所需要修改的代码放到同一个类<br>发散式变化是指“一个类受多种变化的影响”，霰弹式变化是指“一种变化引发多个类相应修改”。这两种情况下你都会希望整理代码，使外界变化与“需要修改的类”趋于一一对应。</p>
<p>7.依恋情结</p>
<p>如果我们看到某个函数为了计算某个值，从另一个对象那儿调用了几乎半打的取值函数。<br><strong>解决：</strong> 把这个函数移至另一个地点。<br>如果一个函数用到了好几个类的功能。<br><strong>解决：</strong>我们的原则是：判断哪个类拥有最多被此函数使用的数据，然后就把这个函数和那些数据摆在一起。或者将这个函数分解为数个小函数并分别置于不同地点。<br>最根本的原则：数据和引用这些数据的行为总是一起变化的，但也有例外。如果例外出现，我们就搬移那些行为，保持变化只在一地发生。</p>
<p>8.Data clumps(数据泥团)</p>
<p>如果两个类中有一些相同的字段，如果删掉其中一项，其他字段不再有意义。你应该为它们创建一个新对象。</p>
<p>9.基本类型偏执<br>大多数编程华景都有两种数据：结构类型允许你将数据组织成有意义的形式，基本类型则是构成类型的积木块。</p>
<p>意思是：我们不应该偏执的只使用一些基本类型，我们应该试着创建一些小对象— 像是结合数值和币种的money类、由一个起始值和一个结束值组成的range类。</p>
<p>10.Switch Statements(switch惊悚现身)</p>
<p>面向对象的一个最明显的特征就是：少用switch(或case)语句。<br>从本质上说，switch语句的问题在于重复。<br><strong>解决</strong> 用多态来替换它。如果你只是在单一函数中有些选择事例，且不想改变它们，那多态就有点杀鸡用牛刀了。这种情况可以为参数的每个值，建立一个独立函数。</p>
<p>11.平行继承体系</p>
<p>每当你为某个类增加一个子类，必须也为另一个类相应增加一个子类。</p>
<p>12.冗赘类</p>
<p>每一个类都要去理解它，维护它。如果重构使它身形缩水，不再做那么多工作。或者这个类只是来应付未来的变化，而变化并没有发生。<br><strong>解决：</strong> 将类内联化，或者直接删除掉。</p>
<p>13.夸夸其谈未来性</p>
<p>当有人说“噢，我们总有一天需要做这事” 并企图以各式各样的钩子和特殊情况来处理一些非必要的事情，这种坏味道就出现了。 这会造成代码更难理解和维护。<br>如：某个抽象类其实并没有太大作用，如果函数的某些参数未用上。</p>
<p>14.另人迷惑的暂时字段。</p>
<p>对象中某个实例变量仅为某种特定情况而设。这样的代码让人不易理解。因为你通常认为对象在所有时候都需要它的所有变量。在变量未被使用的情况下猜测当初其设置目的，会让你发疯的。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/30/hello-world/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="mhen">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="mshen">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/30/hello-world/" itemprop="url">Hello World</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-08-30T18:30:58+08:00">
                2017-08-30
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="mhen" />
          <p class="site-author-name" itemprop="name">mhen</p>
           
              <p class="site-description motion-element" itemprop="description"></p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">5</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              
                <span class="site-state-item-count">3</span>
                <span class="site-state-item-name">标签</span>
              
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">mhen</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.2"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.2"></script>



  
  

  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.2"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.2"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.2"></script>



  


  




	





  





  






  





  

  

  

  

  

  

</body>
</html>
